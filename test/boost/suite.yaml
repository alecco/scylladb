type: boost
# A list of long tests, which should be started early
run_first:
    - index_with_paging_test::test_index_with_paging
    - schema_changes_test
    - sstable_conforms_to_mutation_source_test::test_sstable_conforms_to_mutation_source
    - secondary_index_test::test_indexing_paging_and_aggregation
    - secondary_index_test::test_deleting_ghost_rows
    - mutation_reader_test::test_combined_mutation_source_is_a_mutation_source
    - mutation_reader_test::test_foreign_reader_as_mutation_source
    - mutation_reader_test::clustering_combined_reader_mutation_source_test
    - mutation_reader_test::test_compacting_reader_as_mutation_source
    - mutation_reader_test::test_multishard_streaming_reader
    - mutation_reader_test::test_manual_paused_evictable_reader_is_mutation_source
    - mutation_reader_test::test_auto_paused_evictable_reader_is_mutation_source
    - multishard_combining_reader_as_mutation_source_test
    - database_test::test_database_with_data_in_sstables_is_a_mutation_source
    - database_test::unpaged_mutation_read_global_limit
    - cql_functions_test::test_aggregate_functions
    - memtable_test::test_memtable_with_many_versions_conforms_to_mutation_source
    - memtable_test::flushing_rate_is_reduced_if_compaction_doesnt_keep_up
    - memtable_test::test_memtable_conforms_to_mutation_source
# Tests with slow cases to run each case separately
parallel_cases:
    - cdc_test
    - cql_functions_test
    - cql_query_like_test
    - cql_query_test
    - database_test
    - database_test.unpaged_mutation_read_global_limit
    - index_with_paging_test
    - memtable_test
    - multishard_combining_reader_as_mutation_source_test
    - mutation_fragment_test
    - mutation_reader_test
    - network_topology_strategy_test
    - reader_concurrency_semaphore_test
    - restrictions_test
    - row_cache_test
    - schema_change_test
    - secondary_index_test
    - sstable_3_x_test
    - sstable_compaction_test
    - sstable_conforms_to_mutation_source_test
    - tablets_test
    - user_function_test
    - user_types_test
    - view_complex_test
    - view_schema_test
    - virtual_reader_test
# NOTE: These test cannot work in case-by-case mode because
# some test-cases depend on each other
# logalloc_test, logalloc_standard_allocator_segment_pool_backend_test

# Enable compaction groups on tests except on a few, listed below
all_can_run_compaction_groups_except:
    - exceptions_optimized_test
    - rate_limiter_test
    - exceptions_fallback_test
    - top_k_test
    - reusable_buffer_test
# Custom command line arguments for some of the tests
custom_args:
    mutation_reader_test:
        - '-c3 -m2G'
    sstable_test:
        - '-c1 -m2G'
    sstable_datafile_test:
        - '-c1 -m2G'
    sstable_compaction_test:
        - '-c1 -m2G'
    sstable_3_x_test:
        - '-c1 -m2G'
    cql_query_test:
        - '-c2 -m2G --fail-on-abandoned-failed-futures=true'
    reader_concurrency_semaphore_test:
        - '-c1 -m256M'
    multishard_mutation_query_test:
        - '-c2 -m3G'
    cache_algorithm_test:
        - '-c1 -m256M'
run_in_debug:
    - logalloc_standard_allocator_segment_pool_backend_test
